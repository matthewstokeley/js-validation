/*! validation 08-12-2016 */
var Exception=function(a,b,c,d){this.message=this.validate.call(this,a,b,c,d)};Exception.prototype.validate=function(a,b,c,d){return void 0===b&&(b=!0),void 0===c&&(c=!0),void 0===d&&(d=!0),c&&console.log(a),d&&console.trace(),a};var is=function(){var a=function(a){return!is.array(a)&&f(a,"object")},b=function(a){return!!Array.isArray(a)},c=function(a){return f(a,"string")},d=function(a){return f(a,"number")},e=function(a){return f(a,"boolean")},f=function(a,b){return typeof a===b},g=function(a){return!!is.object(a)&&!!a.tagName},h=function(a){return!!is.object(a)&&!!a.tagName},i=function(a){return!!is.object(a)&&!!a.nodeName},j=function(a,b){if(is[b])return is[b](a)};return{object:a,array:b,string:c,number:d,boolean:e,typeof:f,type:j,dom:g,element:h,node:i}}(),__validation={};__validation.mixins={},__validation.validations={},function(a){function b(a){return __.isArrayTrue(__.mapObject(a[1],function(b,c){return __.findIn(c,__.objectToArray(Object.keys(a[0])))}))}function c(a){if(!b(a))throw new Exception("keys dont match");return!0}a.validateKeys=c}(__validation),function(a){function b(b){function c(a){return 0===a.length||a}function d(a,c,d){return e(b.spec.map(a),a.name)}function e(c,d){return f(c)?void 0:a.returnErrors(c,d,b.spec,b.schema)}function f(a){return __.isArrayTrue(a)}function g(b){return __.objectToArray(a.validations).map(b)}if(!is.array(b.spec))throw new Exception("validation objects must be in an array");return __.chainMethods({functions:[g,__.removeUndefined,c],scope:this,args:d})}a||(__.validation={}),a.validateSpecification=b}(__validation),function(a){function b(a){function b(b){return Object.assign({},b,a[1][b.name])}function c(a,b,c){return{name:b,value:a}}if(!Array.isArray(a))throw new Error("the specification argument must be an array");if(2!==a.length)throw new Error("the specification argument must contain 2 items");return{spec:__.mapObject(a[0],c,this).map(b),schema:a[1]}}a||(a={}),a.createSpecification=b}(__validation),function(a){function b(a,b,d,e){return __.removeUndefined(c(a,b,d,e))}function c(a,b,c,e){return a.map(function(a,f){return d.call(this,a,b,f,c,e)}.bind(this))}function d(a,b,c,d,f){return a===!1?{error:e(Object.keys(f)[c],d[c][b],b)}:void 0}var e=function(a,b,c){var d={maxLength:"`"+a+"` should no longer than `"+b+"` characters long",minLength:"`"+a+"` should be at least `"+b+"` characters long",type:"`"+a+"` should be a type of `"+b+"`",regEx:"`"+a+"` should match the regex"};return d[c]};a||(a={}),a.returnErrors=b}(__validation),function(a){function b(a){if(!is.object(a))throw new Exception("the specification must be an object");if(!__.verifyPropertiesExist(a,["value"]))throw console.log(a),new Exception("the value property of the specification is required");return"undefined"!==a.required&&a.required===!1}a||(a={}),a.mixins||(a.mixins={}),a.mixins.validations=b}(__validation),function(a){function b(b){if(a.mixins.validations(b))return!0;if(!__.verifyPropertiesExist(b,["maxLength"]))return!0;if("number"!=typeof b.maxLength)throw new Exception("maxLength must be a number");var c;return c=void 0===b.value.length?b.value.toString().length+1:b.value.length+1,c<b.maxLength}a||(a={}),a.validations||(a.validations={}),a.validations.maxLength=b}(__validation),function(a){function b(b){if(a.mixins.validations(b))return!0;if(!__.verifyPropertiesExist(b,["minLength"]))return!0;if("number"!=typeof b.minLength)throw new Exception("maxLength must be a number");var c;return c=void 0===b.value.length?b.value.toString().length+1:b.value.length+1,console.log(c),c>b.minLength}a||(a={}),a.validations||(a.validations={}),a.validations.minLength=b}(__validation),function(a){function b(b){if(a.mixins.validations(b))return!0;if(!__.verifyPropertiesExist(b,["regex"]))return!0;if("object"!=typeof b.regex||void 0===b.regex.test)throw new Exception("regex must be an instance of `RegExp`");return b.regex.test(b.value)}a||(a={}),a.validations||(a.validations={}),a.validations.regex=b}(__validation),function(a){function b(b){var c=["string","number","boolean","object","array","element","node"];if(a.mixins.validations(b))return!0;if(!__.verifyPropertiesExist(b,["type"]))throw new Exception("the specification `type` field is required");if(!__.findIn(b.type,c))throw new Exception("the specification type is not allowed");return is.type(b.value,b.type)}a||(a={}),a.validations||(a.validations={}),a.validations.type=b}(__validation);var __validate=function(a,b){function c(a,b){return __validation.validateKeys([a,b])}function d(a,b){return!!c(a,b)&&__.chainMethods({functions:[__validation.createSpecification,__validation.validateSpecification],scope:this,args:[a,b]})}try{return d(a,b)}catch(e){throw new Error(e)}};